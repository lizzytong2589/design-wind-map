(()=>{var t={28:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(81),o=r.n(n),a=r(645),i=r.n(a)()(o());i.push([t.id,"html, body {\r\n  padding: 0;\r\n  margin: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n.container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 100vh;\r\n}\r\n.form-div {\r\n  width: 40%;\r\n  padding: 1rem;\r\n  box-sizing: border-box;\r\n  float: left;\r\n  overflow: scroll;\r\n}\r\n.map {\r\n  width: 60%;\r\n  height: 100%;\r\n}\r\n#viewDiv {\r\n  height: 100%;\r\n}\r\n\r\n/* Style the input groups */\r\n.input-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.input-group label {\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.input-group input,\r\n.input-group select {\r\n  font-size: 16px;\r\n  padding: 10px;\r\n  margin: 0;\r\n  width: 50%;\r\n  color: #333;\r\n  background-color: #f7f7f7;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  appearance: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.input-group select {\r\n  cursor: pointer;\r\n}\r\n\r\n/* Style the submit button */\r\n#submit-btn {\r\n  display: block;\r\n  font-size: 16px;\r\n  padding: 10px;\r\n  margin: 20px 0;\r\n  width: 200px;\r\n  color: #fff;\r\n  background-color: #007\r\n}\r\n",""]);const s=i},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);n&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},735:function(t,e){!function(t){"use strict";var e={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.25",n="next";function o(t){if(t.toLowerCase()===n)return n;var e=t&&t.match(/^(\d)\.(\d+)/);return e&&{major:parseInt(e[1],10),minor:parseInt(e[2],10)}}function a(t){return void 0===t&&(t=r),"https://js.arcgis.com/".concat(t,"/")}function i(t){return!t||o(t)?function(t){void 0===t&&(t=r);var e=a(t),i=o(t);if(i!==n&&3===i.major){var s=i.minor<=10?"js/":"";return"".concat(e).concat(s,"esri/css/esri.css")}return"".concat(e,"esri/themes/light/main.css")}(t):t}function s(t,e){var r=i(t),n=function(t){return document.querySelector('link[href*="'.concat(t,'"]'))}(r);return n||function(t,e){if(e){var r=document.querySelector(e);r.parentNode.insertBefore(t,r)}else document.head.appendChild(t)}(n=function(t){var e=document.createElement("link");return e.rel="stylesheet",e.href=t,e}(r),e),n}var c={};function u(t,e,r){var n;r&&(n=function(t,e){var r=function(n){e(n.error||new Error("There was an error attempting to load ".concat(t.src))),t.removeEventListener("error",r,!1)};return t.addEventListener("error",r,!1),r}(t,r));var o=function(){e(t),t.removeEventListener("load",o,!1),n&&t.removeEventListener("error",n,!1)};t.addEventListener("load",o,!1)}function l(){return document.querySelector("script[data-esri-loader]")}function d(){var t=window.require;return t&&t.on}function p(t){void 0===t&&(t={});var r={};[c,t].forEach((function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}));var n=r.version,o=r.url||a(n);return new e.Promise((function(t,e){var a=l();if(a){var i=a.getAttribute("src");i!==o?e(new Error("The ArcGIS API for JavaScript is already loaded (".concat(i,")."))):d()?t(a):u(a,t,e)}else if(d())e(new Error("The ArcGIS API for JavaScript is already loaded."));else{var c=r.css;c&&s(!0===c?n:c,r.insertCssBefore),u(a=function(t){var e=document.createElement("script");return e.type="text/javascript",e.src=t,e.setAttribute("data-esri-loader","loading"),e}(o),(function(){a.setAttribute("data-esri-loader","loaded"),t(a)}),e),document.body.appendChild(a)}}))}function f(t){return new e.Promise((function(e,r){var n=window.require.on("error",r);window.require(t,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n.remove(),e(t)}))}))}t.utils=e,t.loadModules=function(t,e){if(void 0===e&&(e={}),d())return f(t);var r=l(),n=r&&r.getAttribute("src");return!e.url&&n&&(e.url=n),p(e).then((function(){return f(t)}))},t.getScript=l,t.isLoaded=d,t.loadScript=p,t.setDefaultOptions=function(t){void 0===t&&(t={}),c=t},t.loadCss=s,Object.defineProperty(t,"__esModule",{value:!0})}(e)},379:t=>{"use strict";var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var a={},i=[],s=0;s<t.length;s++){var c=t[s],u=n.base?c[0]+n.base:c[0],l=a[u]||0,d="".concat(u," ").concat(l);a[u]=l+1;var p=r(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(f);else{var h=o(f,n);n.byIndex=s,e.splice(s,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function o(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var a=n(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var s=r(a[i]);e[s].references--}for(var c=n(t,o),u=0;u<a.length;u++){var l=r(a[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},569:t=>{"use strict";var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{"use strict";t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={id:n,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nc=void 0,(()=>{"use strict";var t=r(379),e=r.n(t),n=r(795),o=r.n(n),a=r(569),i=r.n(a),s=r(565),c=r.n(s),u=r(216),l=r.n(u),d=r(589),f=r.n(d),h=r(28),m={};function v(t,e,r,n,o,a,i){let s=1;for(let a=0;a<o.length;a++)s*=Math.exp(-o[a]*Math.pow(1+r/e*(t-n),-1/r));let c=Math.pow(Math.exp(-(t-a[0])/a[1]),i);return p=1-c*s,p<0&&(p=1),p}function g(t,e,r,n,o,a,i){let s=e.length,c=Math.ceil(Math.max(...n)),u=1;for(;u>t;)u=v(c,e,r,n,o,a,s),c++;let l=c-1;return console.log(l),l}function y(t,e,r,n,o,a,i,s){let c=Math.ceil(Math.max(...a)),u=0;for(;t>u;){let t=Math.pow(1-Math.exp(-i[0]*Math.pow(1+o[0]*(c-a[0])/n[0],-1/o[0])),-1);isNaN(t)&&(t=1/0);let e=Math.pow(1-Math.exp(-(c-s[0])/s[1]),-1);u=Math.pow(1-(1-1/t)*(1-1/e),-1),u<0&&(u=0),c++}let l=Math.ceil(Math.max(...a));for(u=0;t>u;){let t=Math.pow(1-Math.exp(-i[1]*Math.pow(1+o[1]*(l-a[1])/n[1],-1/o[1])),-1);isNaN(t)&&(t=1/0);let e=Math.pow(1-Math.exp(-(c-s[0])/s[1]),-1);u=Math.pow(1-(1-1/t)*(1-1/e),-1),u<0&&(u=0),l++}return Math.max(c,l)-1}m.styleTagTransform=f(),m.setAttributes=c(),m.insert=i().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=l(),e()(h.Z,m),h.Z&&h.Z.locals&&h.Z.locals;var w=function(){this.totalCount=0,this.data={}};w.prototype.train=function(t,e){for(var r in this.data[e]||(this.data[e]={}),t){var n=t[r];void 0===this.data[e][r]&&(this.data[e][r]={}),void 0===this.data[e][r][n]&&(this.data[e][r][n]=0),this.data[e][r][n]++}this.totalCount++},w.prototype.score=function(t){var e,r={};for(var n in t){var o=t[n];for(e in this.data)r[e]={},this.data[e][n]?r[e][n+"_"+o]=(this.data[e][n][o]||0)/this.totalCount:r[e][n+"_"+o]=0}var a={};for(e in r)for(var i in a[e]=0,r[e])a[e]+=r[e][i];return a};var x=function(){this.weights=[],this.bias=0};x.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var e=0,r=0;r<this.weights.length;r++)e+=this.weights[r]*t[r];return(e+=this.bias)>0?1:0},x.prototype.train=function(t,e){if(0!==e&&1!==e)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var r=this.predict(t);if("number"==typeof r&&r!==e){for(var n=e-r,o=0;o<this.weights.length;o++)this.weights[o]+=n*t[o];this.bias+=n}return this},Math.log(Math.sqrt(2*Math.PI)),Math.sqrt(2*Math.PI);var b=Math.sqrt(2*Math.PI);function M(t){for(var e=t,r=t,n=1;n<15;n++)e+=r*=t*t/(2*n+1);return Math.round(1e4*(.5+e/b*Math.exp(-t*t/2)))/1e4}for(var I=[],E=0;E<=3.09;E+=.01)I.push(M(E));r(735).loadModules(["esri/config","esri/WebMap","esri/views/MapView","esri/widgets/Locate","esri/widgets/Search","esri/widgets/ScaleBar","esri/widgets/Compass","esri/rest/locator"],{css:!0}).then((([t,e,r,n,o,a,i,s])=>{t.apiKey="AAPK67c58f2fc7db4d2c94008117be9258dfQgEtYssZ96mCuu03Lw7S0xw0kMlTLFhj7BNBSpuip6n7BvD-Drz-GoDehFlw5pqx";const c=new e({portalItem:{id:"64bc30d474a540dba020895891b1d5db"}}),u=new r({container:"viewDiv",map:c,center:[-74.6,37.5],zoom:5,constraints:{minZoom:15,maxZoom:4}}),l=new a({view:u}),d=new n({view:u,useHeadingEnabled:!1,goToOverride:function(t,e){return e.target.scale=1500,t.goTo(e.target)}}),p=new i({view:u});u.ui.add(l,"bottom-left"),u.ui.add([d,p],"top-left"),u.ui.add(l,"bottom-left"),document.getElementById("form").addEventListener("submit",(t=>{t.preventDefault();const e=document.getElementById("scenario-select").value,r=document.getElementById("location-input").value,n=parseInt(document.getElementById("lifespan-input").value),o=parseInt(document.getElementById("year-input").value),a=parseInt(document.getElementById("category-select").value),i=document.getElementById("method-select").value,s=document.getElementById("units-select").value;var u=c.allLayers.find((function(t){return t.title===e}));u.load().then((()=>{const t=u.createQuery();t.where=`county_fips = '${parseInt(r)}'`,u.queryFeatures(t).then((function(t){if(t.features.length>0){var e=t.features[0].attributes;const r={};for(const t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);!function(t,e,r,n,o,a){const i=2e3,s=2100;e<i&&console.warn("stationary climate assumed for years before 2000");const c=[t.scale_past,t.shp_past],u=[t.scale_future,t.shp_future],l=t.uS_past,d=t.uS_future,p=t.lambda_past,f=t.lambda_future,h=[10,25,50,100,300,700,1700,3e3,1e4,1e5,1e6];if("LEP"===o||"AEP"===o){const a=Array.from({length:n},((t,r)=>e+r));a.some((t=>t>s))&&console.warn("stationary climate assumed for years after 2100");let m=a.map((t=>(s-t)/100)),y=a.map((t=>(t-i)/100));for(let t=0;t<n;t++)a[t]<=i&&(m[t]=1,y[t]=0),a[t]>=s&&(m[t]=0,y[t]=1);let w=m.map((t=>t*c[0]))+y.map((t=>t*u[0])),x=m.map((t=>t*c[1]))+y.map((t=>t*u[1])),b=m.map((t=>t*l))+y.map((t=>t*d)),M=m.map((t=>t*p))+y.map((t=>t*f));const I=[300,700,1700,3e3][r];let E=1-Math.pow(1-1/I,n),C=g(E,w,x,b,M,[t.NTC_1,t.NTC_2]);if("AEP"==o){let e=new Array(n);for(let r=0;r<n;r++)e[r]=v(C,w[r],x[r],b[r],M[r],[t.NTC_1,t.NTC_2],1);let r=Array.from({length:n},((t,e)=>e+1));if(1==(ss.linearRegression(ss.zip(r,e)).m>0?1:0)&&max(e)>1/I){const r=which(e===max(e));r&&(w=w[r],x=x[r],b=b[r],M=M[r],E=1/I,xd=g(E,w,x,b,M,[t.NTC_1,t.NTC_2]))}"LEP"!==o&&xd||(xd=C);let a=new Array(h.length);for(let e=0;e<h.length;e++){let r;"LEP"!=o&&year_max?"AEP"==o&&(r=1/h[e]):r=Math.pow(1-1/h[e],n),a[e]=g(r,w,x,b,M,[t.NTC_1,t.NTC_2])}}}if("MRI"===o){const o=[e,e+n-1];Math.max(...o)>s&&console.warning("stationary climate assumed for years after 2100");const a=o.map((t=>(s-t)/100)),m=o.map((t=>(t-i)/100));for(let t=0;t<2;t++)o[t]<=i&&(a[t]=1,m[t]=0),o[t]>=s&&(a[t]=0,m[t]=1);const v=a[0]*c[0]+m[0]*u[0],g=a[1]*c[1]+m[1]*u[1],w=a[0]*l+m[0]*d,x=a[0]*p+m[0]*f,b=(y([300,700,1700,3e3][r],t.latP,t.lonP,v,g,w,x,[t.NTC_1,t.NTC_2]),Array.from({length:h.length},(()=>NaN)));for(let e=0;e<h.length;e++){const r=h[e];b[e]=y(r,t.latP,t.lonP,v,g,w,x,[t.NTC_1,t.NTC_2])}}const m=2.23694;xd="SI"===a?xd:m*xd,xd=Math.round(100*xd)/100,a="SI"===a?"m/s":"mph",console.log(`Design wind speed for the ${o} approach: ${xd} ${a}`);const w=[[xd,t.latP.toFixed(2),t.lonP.toFixed(2),r].map(String),winds.map((t=>t.toFixed(2)))],x=["Design Wind ("+a+")","Lat","Long","Risk Category","10-year MRI","25-year MRI","50-year MRI","100-year MRI","300-year MRI","700-year MRI","1,700-year MRI","3,000-year MRI","10,000-year MRI","100,000-year MRI","1,000,000-year MRI"];if(w.unshift(x),"mph"===a)for(let t=4;t<w.length;t++)for(let e=0;e<w[t].length;e++)w[t][e]=(w[t][e]*m).toFixed(2);console.table(w),xd}(r,o,a,n,i,s)}else alert(`No data was found for location: ${r}. Please try again with a different location.`)})).catch((function(t){console.error(t)}))})).catch((t=>{console.error("Error loading feature layer:",t)}))}))})).catch((t=>{console.error(t)}))})()})();