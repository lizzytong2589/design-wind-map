<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Design Wind Speeds</title>

  <link rel="stylesheet" href="https://js.arcgis.com/4.26/esri/themes/light/main.css">
  <link rel="stylesheet" href="styles.css">
  <script src="https://js.arcgis.com/4.26/"></script>
  <script src="main.js"></script>
  <script src="calcWinds.js"></script>
  
</head>
<body>
  <div class="container">
    <div class="form-div">
      <h2>Design Wind Speed Calculator</h2>
      <form id="form">
        <div class="input-group">
          <label for="location-input">Enter Location:</label><br>
          <input type="text" id="location-input" pattern="\d{5}" placeholder="e.g. 01001" required>
        </div>
        
        <div class="input-group">
          <label for="scenario-select">Emissions Scenario:</label><br>
          <select id="scenario-select" required>
            <option value="">-- Select --</option>
            <option value="1">SSP2-4.5 (Intermediate)</option>
            <option value="2">SSP5-8.5 (High)</option>
          </select>
        </div>

        <div class="input-group">
          <label for="lifespan-input">Enter the Building Lifetime:</label><br>
          <input type="number" id="lifespan-input" placeholder="e.g. 50" value=50 required>
        </div>

        <div class="input-group">
          <label for="year-input">Enter the Year of Construction:</label><br>
          <input type="number" id="year-input" placeholder="e.g. 2023" value=2023 required>
        </div>

        <div class="input-group">
          <label for="category-select">Risk Category:</label><br>
          <select id="category-select" required>
            <option value="">-- Select --</option>
            <option value="1">I</option>
            <option value="2">II</option>
            <option value="3">III</option>
            <option value="4">IV</option>
          </select>
        </div>

        <div class="input-group">
          <label for="method-select">Design Method:</label><br>
          <select id="method-select" required>
            <option value="">-- Select --</option>
            <option value="AEP">AEP</option>
            <option value="LEP">LEP</option>
            <option value="MRI">MRI</option>
          </select>
        </div>

        <div class="input-group">
          <label for="units-select">Units:</label><br>
          <select id="units-select" required>
            <option value="">-- Select --</option>
            <option value="cust">Customary</option>
            <option value="si">SI</option>
          </select>
        </div><br>

        <input id="submit-btn" type="submit" value="Submit">
      </form>
    </div>
    <!-- Map -->
    <div class="map">
      <div id="viewDiv"></div>
    </div>
  </div>
  <script>
    // let form = document.getElementById("form");
    // form.addEventListener("submit", (e) => {
    //   e.preventDefault(); // Prevent the form from submitting

    //   // User Inputs
    //   const scenario = document.getElementById("scenario-select").value;
    //   const loc = document.getElementById("location-input").value;
    //   const lifespan = document.getElementById("lifespan-input").value;
    //   const buildYear = document.getElementById("year-input").value;
    //   const riskCat = document.getElementById("category-select").value;
    //   const method = document.getElementById("method-select").value;
    //   const units = document.getElementById("units-select").value;
    //   // const submitBtn = document.getElementById("submit-btn");

    //   console.log(scenario)
    //   console.log(loc)
    //   console.log(lifespan)
    //   console.log(buildYear)
    //   console.log(riskCat)
    //   console.log(method)
    //   console.log(units)
    //   console.log(webmap.layers)

    //   // // Get FIPS code from location input
    //   // var geometryService = new esri.tasks.GeometryService("https://geoenrich.arcgis.com/arcgis/rest/services/World/GeoEnrichmentServer/StandardGeographyQuery");

    //   // // Set up a new instance of the FeatureLayer to query for counties
    //   // var countyLayer = new esri.layers.FeatureLayer("http://sampleserver6.arcgisonline.com/arcgis/rest/services/Census/MapServer/3");

    //   // // Use the GeometryService to geocode the address and get its point location
    //   // var geocodeParams = new esri.tasks.GeocodeParameters();
    //   // geocodeParams.address = { SingleLine: loc };
    //   // geometryService.geocode(geocodeParams, function(result) {
    //   //   var point = result[0].location;

    //   //   // Set up a query to find the county the point is located in
    //   //   var query = new esri.tasks.Query();
    //   //   query.geometry = point;
    //   //   query.spatialRelationship = esri.tasks.Query.SPATIAL_REL_INTERSECTS;

    //   //   // Execute the query against the county layer and get the county FIPS code
    //   //   countyLayer.queryFeatures(query, function(featureSet) {
    //   //     var countyFeature = featureSet.features[0];
    //   //     var fipsCode = countyFeature.attributes["STATE_FIPS"] + countyFeature.attributes["COUNTY_FIPS"];
    //   //     console.log("County FIPS code: " + fipsCode);
    //   //     var FIPS = fipsCode
    //   //   });
    //   // });


    //   // // Query
    //   // featureLayer.setQuery(scenario)
    //   // var query = new esri.tasks.Query();
    //   // query.where = "county_fips = " + FIPS;
      
    //   // featureLayer.queryFeatures(query, function(featureSet) {
    //   //   // Iterate through the features and do something with each one
    //   //   var features = featureSet.features;
    //   //   for (var i = 0; i < features.length; i++) {
    //   //     var feature = features[i];
    //   //     // Do something with the feature, such as display its attributes or geometry
    //   //     console.log(feature.attributes);
    //   //     console.log(feature.geometry);
    //   //   }
    //   // });
      
    //   console.log(calc_winds(data, buildYear, riskCat, lifespan, method, units))
    // })


  </script>

</body>
</html>